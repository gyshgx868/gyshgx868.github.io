<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="我是指针，却丢失了目标地址；我是循环，却缺少了结束条件；我是函数，却没有人来调用。" />
  

  
  
  
  
  
  
  
  
  
  <title>UVA 10491 Cows and Cars | GYSHGX868&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="题目描述DescriptionIn television contests, participants are often asked to choose one from a set of or doors for example, one or several of which lead to different prizes. In this problem we will deal wit">
<meta property="og:type" content="article">
<meta property="og:title" content="UVA 10491 Cows and Cars">
<meta property="og:url" content="https://gyshgx868.github.io/2015/10/01/UVA/uva-10491/index.html">
<meta property="og:site_name" content="GYSHGX868's Notes">
<meta property="og:description" content="题目描述DescriptionIn television contests, participants are often asked to choose one from a set of or doors for example, one or several of which lead to different prizes. In this problem we will deal wit">
<meta property="og:updated_time" content="2015-10-01T13:14:03.462Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UVA 10491 Cows and Cars">
<meta name="twitter:description" content="题目描述DescriptionIn television contests, participants are often asked to choose one from a set of or doors for example, one or several of which lead to different prizes. In this problem we will deal wit">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

  
  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
</head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="GYSHGX868&#39;s Notes" rel="home">GYSHGX868&#39;s Notes</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Fake It &#39;Till You Make It.</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/categories">Categories</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/about">about</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/tags">tags</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">fork me on github</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main"><article id="post-UVA/uva-10491" class="post-UVA/uva-10491 post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title article-title">
      UVA 10491 Cows and Cars
    </h1>
  

        
        <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="https://gyshgx868.github.io/2015/10/01/UVA/uva-10491/" data-id="ciq3qxuxa001bd4w4c61yd8p1" class="leave-reply bdsharebuttonbox" data-cmd="more">分享</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <h1 id="题目描述">题目描述</h1><h2 id="Description">Description</h2><p>In television contests, participants are often asked to choose one from a set of or doors for example, one or several of which lead to different prizes. In this problem we will deal with a specific kind of sucha contest. Suppose you are given the following challenge by the contest presenter:<br><a id="more"></a><br>In front of you there are three doors. Two of them hide a cow, the other one hides your prize - a car. After you choose a door, but before you open it, I will give you an hint, by opening one of the doors which hides a cow (I’ll never open the door you have chosen, even if it hides a cow). You will then be able to choose if you want to keep your choice, or if you wish to change to the other unopened door. You will win whatever is behind the door you open.</p>
<p>In this example, the probability you have of winning the car is 2/3 (as hard as it is to believe), assuming you always switch your choice when the presenter gives you the opportunity to do so (after he shows you a door with a cow). The reason of this number (2/3) is this - if you had chosen one of the two cows, you would surely switch to the car, since the presenter had shown you the other cow. If you had chosen the car, you would switch to the remaining cow, therefore losing the prize. Thus, in two out of three cases you would switch to the car. The probability to win if you had chosen to stick with your initial choice would obviously be only 1/3, but that isn’t important for this problem.</p>
<p>In this problem, you are to calculate the probability you have of winning the car, for a generalization of the problem above:</p>
<ul>
<li>The number of cows is variable</li>
<li>The number of cars is variable (number of cows + number of cars = total number of doors)</li>
<li>The number of doors hiding cows that the presenter opens for you is variable (several doors may still be open when you are given the opportunity to change your choice)</li>
</ul>
<p>You should assume that you always decide to switch your choice to any other of the unopen doors after the presenter shows you some doors with cows behind it.</p>
<h2 id="Input">Input</h2><p>There are several test cases for your program to process. Each test case consists of three integers on a line, separated by whitespace. Each line has the following format:<br>NCOWS NCARS NSHOW<br>Where NCOW S is the number of doors with cows, NCARS is the number of doors with cars and NSHOW is the number of doors the presenter opens for you before you choose to switch to another unopen door.<br>The limits for your program are:<br>1 ≤ NCOWS ≤ 10000<br>1 ≤ NCARS ≤ 10000<br>0 ≤ NSHOW &lt; NCOWS</p>
<h2 id="Output">Output</h2><p>For each of the test cases, you are to output a line containing just one value - the probability of winning the car assuming you switch to another unopen door, displayed to 5 decimal places.</p>
<h2 id="Sample_Input">Sample Input</h2><p>2 1 1<br>5 3 2<br>2000 2700 900</p>
<h2 id="Sample_Output">Sample Output</h2><p>0.66667<br>0.52500<br>0.71056</p>
<h1 id="题目链接">题目链接</h1><p><a href="https://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=1432" target="_blank" rel="external">https://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=1432</a></p>
<h1 id="解题思路">解题思路</h1><p>UVA的题目永远这么难读！</p>
<p>题意：有牛和车躲在门内，你做一个选择，但是还不能看答案，然后知情人会帮助你，你会打开几个门里面全是牛，但是注意一点，知情人知道你选的那个门里面是牛还是车，但即便他知道是牛他也不能告诉你。知情人打开门后，你必定重新选择另一个门（要是可能保持不变的话又不同了），问你这次选到车的概率多少。</p>
<p>知情人会一次性打开<code>door</code>个门（如果你选的就是牛，虽然知情人能打开<code>door</code>个门，但是它不能打开你那个，而题目有一个条件<code>0 &lt;= door &lt; cow</code>，这说明即便你选了一个牛，知情人还是能打开<code>door</code>个门的，是另外的<code>door</code>个门）。</p>
<ul>
<li>第一次选择牛，概率为<code>cow / (cow + car)</code>，然后知情人打开了<code>door</code>个门（自己选的那个不被打开），然后现在实际上只剩下<code>cow + car - door</code>个门（包括自己选的那个）。改变选择，那么现在能选的门的个数为<code>cow + car - door - 1</code>，选到车的概率为<code>car / (cow + car - door - 1)</code>。由于是条件概率所以要相乘：<code>p1 = car / (cow + car) * car / (cow + car - door - 1)</code>；</li>
<li>如果第一次选到车，概率为<code>car / (cow + car)</code>，然后知情人打开<code>door</code>个门，实际上剩下的门也是<code>cow + car - door</code>。改变选择，那么能选的个数为<code>cow + car - door - 1</code>，车的个数只剩下<code>car - 1</code>（你放弃了之前选择的那个），选到车的概率就是<code>(car - 1) / (cow + car - door - 1)</code>，两者相乘：<code>p2 = car / (cow + car) * (car - 1) / (cow + car - door - 1)</code>。</li>
</ul>
<h1 id="AC代码">AC代码</h1><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    double cow, car, <span class="keyword">door</span>;</span><br><span class="line">    while (~scanf(<span class="string">"%lf%lf%lf"</span>, &amp;cow, &amp;car, &amp;<span class="keyword">door</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        double p1 = 1.0 * cow / (cow + car) * car / (cow + car - <span class="keyword">door</span> - 1);</span><br><span class="line">        double p2 = 1.0 * car / (cow + car) * (car - 1) / (cow + car - <span class="keyword">door</span> - 1);</span><br><span class="line">        printf(<span class="string">"%.5f\n"</span>, p1 + p2);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2015/10/01/UVA/uva-10491/">
    <time datetime="2015-10-01T13:00:50.000Z" class="entry-date">
        2015-10-01
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/UVA/">UVA</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ACM/">ACM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UVA/">UVA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数学/">数学</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/概率/">概率</a></li></ul>

    </footer>
</article>


    
<nav class="nav-single">
    <h3 class="assistive-text">文章导航</h3>
    
        <span class="nav-previous"><a href="/2015/10/03/Python/05-python-variable-types/" rel="prev"><span class="meta-nav">←</span> Python变量类型</a></span>
    
    
        <span class="nav-next"><a href="/2015/09/26/Python/04-python-basic-syntax/" rel="next">Python基础语法 <span class="meta-nav">→</span></a></span>
    
</nav><!-- .nav-single -->







</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside class="widget">
    <h3 class="widget-title">关于我</h3>
    <div class="widget-content">
      <p>邮箱：admin(at)flygon.net</p>
      <p>QQ：562826179</p>
      <iframe width="100%" height="70" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2216356441&verifier=2e06a95d&dpc=1"></iframe>
    </div>
</aside>
  
    <aside class="widget">
    <h3 class="widget-title">赞助我</h3>
    <div class="widget-content">
      <img src='/css/images/qr_alipay.png' style='width:100%;' />
    </div>
</aside>
  
    
  
    
  <aside class="widget">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2015/11/11/CodeForces/cf-255e/">CodeForces 255E Furlo and Rublo and Game</a>
          </li>
        
          <li>
            <a href="/2015/11/07/CodeForces/cf-255d/">CodeForces 255D Mr. Bender and Square</a>
          </li>
        
          <li>
            <a href="/2015/11/07/CodeForces/cf-255c/">CodeForces 255C Almost Arithmetical Progression</a>
          </li>
        
          <li>
            <a href="/2015/11/06/CodeForces/cf-248b/">CodeForces 248B Chilly Willy</a>
          </li>
        
          <li>
            <a href="/2015/10/06/UVA/uva-1152/">UVA 1152 4 Values whose Sum is 0</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Archives</h3>
    <div class="widget-content">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">17</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-content">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CodeForces/">CodeForces</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HDU/">HDU</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/POJ/">POJ</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/UVA/">UVA</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂文/">杂文</a><span class="category-list-count">1</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-content tagcloud">
      <a href="/tags/ACM/" style="font-size: 20px;">ACM</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/C/" style="font-size: 11.25px;">C++</a> <a href="/tags/CF/" style="font-size: 16.25px;">CF</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/EasyBCD/" style="font-size: 10px;">EasyBCD</a> <a href="/tags/HDU/" style="font-size: 17.5px;">HDU</a> <a href="/tags/Java/" style="font-size: 12.5px;">Java</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/POJ/" style="font-size: 18.75px;">POJ</a> <a href="/tags/Python/" style="font-size: 16.25px;">Python</a> <a href="/tags/SG函数/" style="font-size: 10px;">SG函数</a> <a href="/tags/UVA/" style="font-size: 13.75px;">UVA</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Windows/" style="font-size: 11.25px;">Windows</a> <a href="/tags/二分/" style="font-size: 11.25px;">二分</a> <a href="/tags/二分图/" style="font-size: 10px;">二分图</a> <a href="/tags/动态规划/" style="font-size: 15px;">动态规划</a> <a href="/tags/博弈/" style="font-size: 10px;">博弈</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/字典树/" style="font-size: 12.5px;">字典树</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/完全背包/" style="font-size: 10px;">完全背包</a> <a href="/tags/并查集/" style="font-size: 11.25px;">并查集</a> <a href="/tags/数学/" style="font-size: 12.5px;">数学</a> <a href="/tags/数据结构/" style="font-size: 11.25px;">数据结构</a> <a href="/tags/数论/" style="font-size: 10px;">数论</a> <a href="/tags/暴力/" style="font-size: 10px;">暴力</a> <a href="/tags/最小割/" style="font-size: 10px;">最小割</a> <a href="/tags/树状数组/" style="font-size: 11.25px;">树状数组</a> <a href="/tags/概率/" style="font-size: 10px;">概率</a> <a href="/tags/爱情/" style="font-size: 10px;">爱情</a> <a href="/tags/矩阵快速幂/" style="font-size: 10px;">矩阵快速幂</a> <a href="/tags/程序员/" style="font-size: 10px;">程序员</a> <a href="/tags/算法/" style="font-size: 11.25px;">算法</a> <a href="/tags/线段树/" style="font-size: 10px;">线段树</a> <a href="/tags/组合数学/" style="font-size: 12.5px;">组合数学</a> <a href="/tags/网络流/" style="font-size: 11.25px;">网络流</a> <a href="/tags/计算器/" style="font-size: 10px;">计算器</a> <a href="/tags/记忆化搜索/" style="font-size: 10px;">记忆化搜索</a> <a href="/tags/贪心/" style="font-size: 11.25px;">贪心</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
    </div>
  </aside>

  
    <aside class="widget">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget-content">
<ul id='link-list'>
<!-- link begin -->
<li><a href="http://www.258ch.com/">苍海国际</a></li>
<li><a href='http://tieba.baidu.com/f?kw=%B7%C9%C1%FA'>百度飞龙吧</a></li>
<li><a href='http://tieba.baidu.com/f?kw=%CE%AA%B0%AE%C8%EB%C3%DF'>百度为爱入眠吧</a></li>
<li><a href="http://www.714.hk/">梦殇国际</a></li>
<li><a href="http://cuican.name/">璀璨</a></li>
<li><a href="http://www.jsgblog.com">旧时光博客</a></li>
<li><a href="http://www.tiebalu.com/">贴吧录</a></li>
<li><a href='http://fivekuai.com/'>Five贴吧</a></li>
<li><a href="http://www.icebaidu.com">冷熊猫</a></li>
<li><a href="http://www.giuem.com/">Giuem</a></li>
<li><a href="http://www.woaiye.com/">我爱夜</a></li>
<li><a href='http://www.changwei.me/'>昌维</a></li>
<li><a href="http://moelove.info/">MoeLove</a></li>
<li><a href='http://xiaohudie.net/'>小蝴蝶</a></li>
<li><a href='http://hexuan.in/'>和旋音小站</a></li>
<li><a href='http://aiyou.im/'>LunarLove</a></li>
<li><a href='http://xfsauce.com/'>小丰阁</a></li>

<!-- -->

<li><a href="http://gaocegege.com/Blog/">高策Blog</a></li>
<li><a href='http://azard.me/blog/'>Azard的博客</a></li>
<li><a href='http://hczhcz.github.io/'>hcz@github.io</a></li>
<li><a href='http://zhangwenli.com/blog/'>羡辙杂俎</a></li>
<li><a href='http://jerryzou.com/'>咀嚼之味</a></li>

<!-- -->

<li><a href="http://papwin.com/">潘岸平的部落格</a></li>
<li><a href="http://www.wczf.net/">微尘逐风</a></li>
<li><a href="http://www.geekzu.cn/">极客族</a></li>
<li><a href="http://hardrain980.com">骤雨</a></li>

<!-- -->

<li><a href='https://leob.in/'>加几的博客</a></li>
<li><a href='http://www.syana.moe/'>q6q64399's blog</a></li>
<li><a href='http://www.82cat.com/'>不二's blog</a></li>
<li><a href="http://lolil.lofter.com/">庭园</a></li>
<li><a href="http://aikongke.com/">爱控客</a></li>
<li><a href="http://www.sunweihu.com/">墨涩颓废网</a></li>
<li><a href='http://lvycf.com'>HDL's blog</a></li>
<li><a href="http://emilelu.com/">Twinking Stars</a></li>
<li><a href='http://www.farquer.cn/'>farquer's blog</a></li>
<!-- link end -->
</ul>
    </div>
</aside>
  
    <aside class="widget">
    <h3 class="widget-title">统计</h3>
    <div class="widget-content">
      <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000045945'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1000045945%26online%3D1' type='text/javascript'%3E%3C/script%3E"));</script>
    </div>
</aside>

  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 GYSHGX868
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</footer>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

<script src="/js/navigation.js"></script>

<script>
    //Kill XP and IE8
    (function(){
        var ua = navigator.userAgent;
        var res = /Windows NT (\d+\.\d+)/.exec(ua);
        var xpOrLower = res && JSON.parse(res[1]) < 6;
        res = /MSIE (\d+\.\d+)/.exec(ua);
        var ie8OrLower = res && JSON.parse(res[1]) < 9;
        if(xpOrLower || ie8OrLower)
        {
            alert('请不要用XP及之前的Windows系统，和IE8及之前的IE浏览器访问本站！');
            location.href = "about:blank";
        }
        var fromBaiduSE = /^https?:\/\/www.baidu.com/.test(document.referrer);
        if(fromBaiduSE)
        {
            alert('检测到你还在使用百度搜索，作为一个程序员，这是一种自暴自弃！\n\n做不作恶的程序员，从不用百度开始！')
            location.href = "about:blank";
        }
    })();
</script>

<div id="bg"></div>

  </div>
</body>
</html>